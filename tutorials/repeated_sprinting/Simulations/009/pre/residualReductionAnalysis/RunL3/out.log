Constructing investigation from setup file E:\3-PhD\Data\MocapData\ElaboratedData\009\pre\residualReductionAnalysis\RunL3\RRA\RRA_setup.xml.

AbstractTool RunL3 loading model '..\..\..\009_Rajagopal2015_FAI.osim'
Loaded model 009 from file ..\..\..\009_Rajagopal2015_FAI.osim
Adding force object set from ..\..\..\..\..\..\..\..\..\MATLAB\DataProcessing-master\src\bops_tool\Templates\RRA\RRA_Actuators_FAI.xml
-----------------------------------------------------------------------
Loaded library
-----------------------------------------------------------------------
               MODEL: 009
         coordinates: 39
              forces: 29
           actuators: 29
             muscles: 0
            analyses: 0
              probes: 0
              bodies: 23
              joints: 22
         constraints: 2
             markers: 67
         controllers: 0
  contact geometries: 0
misc modelcomponents: 0
-----------------------------------------------------------------------

Running tool RunL3.
Old version storage/motion file encountered
Storage: file=E:\3-PhD\Data\MocapData\ElaboratedData\009\pre\dynamicElaborations\RunL3\RunL3.mot (nr=351 nc=37)
.. assuming rotations in Degrees.
ExternalForce::Left
Data source being set to E:\3-PhD\Data\MocapData\ElaboratedData\009\pre\dynamicElaborations\RunL3\RunL3.mot
ExternalForce::Right
Data source being set to E:\3-PhD\Data\MocapData\ElaboratedData\009\pre\dynamicElaborations\RunL3\RunL3.mot
Storage: file=.\IK.mot (nr=34 nc=40)


Low-pass filtering coordinates data with a cutoff frequency of 6.
ExternalForce::Left_transformedP
Data source being set to E:\3-PhD\Data\MocapData\ElaboratedData\009\pre\dynamicElaborations\RunL3\RunL3.mot_transformedP
ExternalForce::Right_transformedP
Data source being set to E:\3-PhD\Data\MocapData\ElaboratedData\009\pre\dynamicElaborations\RunL3\RunL3.mot_transformedP


 taskSet size = 29



WARN- a desired points file was not specified.



Loading desired kinematics from file ..\..\..\inverseKinematics\RunL3\IK.mot ...

Loading q's from file ..\..\..\inverseKinematics\RunL3\IK.mot.
Storage: file=..\..\..\inverseKinematics\RunL3\IK.mot (nr=34 nc=40)
Found 34 q's with time stamps ranging
from 1.5 to 1.665.


WARN- The final time set for the cmc run is past the last time stamp
in the desired kinematics file ..\..\..\inverseKinematics\RunL3\IK.mot.
Resetting the final time from 1.675 to 1.665.



Low-pass filtering desired kinematics with a cutoff frequency of 6...

MODEL: 009

ANALYSES (0)

BODIES (23)
body[0] = ground (mass: 0) (inertia: 0 0 0 0 0 0 0 0 0)
body[1] = pelvis (mass: 12.2558) (inertia: 0.0980231 0 0 0 0.0980231 0 0 0 0.0585766)
body[2] = femur_r (mass: 9.67957) (inertia: 0.168376 0 0 0 0.0441374 0 0 0 0.177556)
body[3] = tibia_r (mass: 3.85824) (inertia: 0.0579686 0 0 0 0.00586587 0 0 0 0.0587737)
body[4] = patella_r (mass: 0.0897047) (inertia: 2.98669e-006 0 0 0 1.3643e-005 0 0 0 1.3643e-005)
body[5] = talus_r (mass: 0.104066) (inertia: 0.00108524 0 0 0 0.00108524 0 0 0 0.00108524)
body[6] = calcn_r (mass: 1.30082) (inertia: 0.00151934 0 0 0 0.00423245 0 0 0 0.0044495)
body[7] = toes_r (mass: 0.225406) (inertia: 0.000108524 0 0 0 0.000217049 0 0 0 0.00108524)
body[8] = femur_l (mass: 9.67957) (inertia: 0.177142 0 0 0 0.0464352 0 0 0 0.186799)
body[9] = tibia_l (mass: 3.85824) (inertia: 0.0545608 0 0 0 0.00552104 0 0 0 0.0553186)
body[10] = patella_l (mass: 0.0897047) (inertia: 2.98669e-006 0 0 0 1.3643e-005 0 0 0 1.3643e-005)
body[11] = talus_l (mass: 0.104066) (inertia: 0.00109344 0 0 0 0.00109344 0 0 0 0.00109344)
body[12] = calcn_l (mass: 1.30082) (inertia: 0.00153082 0 0 0 0.00426443 0 0 0 0.00448312)
body[13] = toes_l (mass: 0.225406) (inertia: 0.000109344 0 0 0 0.000218689 0 0 0 0.00109344)
body[14] = torso (mass: 27.9173) (inertia: 1.4791 0 0 0 0.757856 0 0 0 1.43586)
body[15] = humerus_r (mass: 2.11514) (inertia: 0.0156128 0 0 0 0.00538594 0 0 0 0.0175249)
body[16] = ulna_r (mass: 0.632199) (inertia: 0.00347357 0 0 0 0.000724736 0 0 0 0.00376792)
body[17] = radius_r (mass: 0.632199) (inertia: 0.00347357 0 0 0 0.000724736 0 0 0 0.00376792)
body[18] = hand_r (mass: 0.476101) (inertia: 0.00111307 0 0 0 0.000682568 0 0 0 0.00167211)
body[19] = humerus_l (mass: 2.11514) (inertia: 0.0154683 0 0 0 0.00533608 0 0 0 0.0173626)
body[20] = ulna_l (mass: 0.632199) (inertia: 0.00337174 0 0 0 0.00070349 0 0 0 0.00365746)
body[21] = radius_l (mass: 0.632199) (inertia: 0.00337174 0 0 0 0.00070349 0 0 0 0.00365746)
body[22] = hand_l (mass: 0.476101) (inertia: 0.00111307 0 0 0 0.000682568 0 0 0 0.00167211)

ACTUATORS (29)
actuator[0] = FX
actuator[1] = FY
actuator[2] = FZ
actuator[3] = MX
actuator[4] = MY
actuator[5] = MZ
actuator[6] = hip_flexion_r
actuator[7] = hip_adduction_r
actuator[8] = hip_rotation_r
actuator[9] = knee_angle_r
actuator[10] = ankle_angle_r
actuator[11] = hip_flexion_l
actuator[12] = hip_adduction_l
actuator[13] = hip_rotation_l
actuator[14] = knee_angle_l
actuator[15] = ankle_angle_l
actuator[16] = lumbar_extension
actuator[17] = lumbar_bending
actuator[18] = lumbar_rotation
actuator[19] = arm_flex_r
actuator[20] = arm_add_r
actuator[21] = arm_rot_r
actuator[22] = elbow_flex_r
actuator[23] = pro_sup_r
actuator[24] = arm_flex_l
actuator[25] = arm_add_l
actuator[26] = arm_rot_l
actuator[27] = elbow_flex_l
actuator[28] = pro_sup_l
numStates = 78
numCoordinates = 39
numSpeeds = 39
numActuators = 29
numBodies = 23
numConstraints = 2
numProbes = 0

STATES (78)
y[0] = pelvis_tilt
y[1] = pelvis_list
y[2] = pelvis_rotation
y[3] = pelvis_tx
y[4] = pelvis_ty
y[5] = pelvis_tz
y[6] = hip_flexion_r
y[7] = hip_adduction_r
y[8] = hip_rotation_r
y[9] = knee_angle_r
y[10] = knee_angle_r_beta
y[11] = ankle_angle_r
y[12] = subtalar_angle_r
y[13] = mtp_angle_r
y[14] = hip_flexion_l
y[15] = hip_adduction_l
y[16] = hip_rotation_l
y[17] = knee_angle_l
y[18] = knee_angle_l_beta
y[19] = ankle_angle_l
y[20] = subtalar_angle_l
y[21] = mtp_angle_l
y[22] = lumbar_extension
y[23] = lumbar_bending
y[24] = lumbar_rotation
y[25] = arm_flex_r
y[26] = arm_add_r
y[27] = arm_rot_r
y[28] = elbow_flex_r
y[29] = pro_sup_r
y[30] = wrist_flex_r
y[31] = wrist_dev_r
y[32] = arm_flex_l
y[33] = arm_add_l
y[34] = arm_rot_l
y[35] = elbow_flex_l
y[36] = pro_sup_l
y[37] = wrist_flex_l
y[38] = wrist_dev_l
y[39] = pelvis_tilt_u
y[40] = pelvis_list_u
y[41] = pelvis_rotation_u
y[42] = pelvis_tx_u
y[43] = pelvis_ty_u
y[44] = pelvis_tz_u
y[45] = hip_flexion_r_u
y[46] = hip_adduction_r_u
y[47] = hip_rotation_r_u
y[48] = knee_angle_r_u
y[49] = knee_angle_r_beta_u
y[50] = ankle_angle_r_u
y[51] = subtalar_angle_r_u
y[52] = mtp_angle_r_u
y[53] = hip_flexion_l_u
y[54] = hip_adduction_l_u
y[55] = hip_rotation_l_u
y[56] = knee_angle_l_u
y[57] = knee_angle_l_beta_u
y[58] = ankle_angle_l_u
y[59] = subtalar_angle_l_u
y[60] = mtp_angle_l_u
y[61] = lumbar_extension_u
y[62] = lumbar_bending_u
y[63] = lumbar_rotation_u
y[64] = arm_flex_r_u
y[65] = arm_add_r_u
y[66] = arm_rot_r_u
y[67] = elbow_flex_r_u
y[68] = pro_sup_r_u
y[69] = wrist_flex_r_u
y[70] = wrist_dev_r_u
y[71] = arm_flex_l_u
y[72] = arm_add_l_u
y[73] = arm_rot_l_u
y[74] = elbow_flex_l_u
y[75] = pro_sup_l_u
y[76] = wrist_flex_l_u
y[77] = wrist_dev_l_u

Note: requested COM adjustment time range 1.305 - 1.675 clamped to nearest available data times 1.305 - 1.675

Computing average residuals between 1.305 and 1.675

Computing average residuals between 1.305 and 1.675

Constructing function set for tracking desired kinematics...

No Actuation analysis found in analysis set -- adding one
No Kinematics analysis found in analysis set -- adding one
Using the generalized coordinates specified in ..\..\..\inverseKinematics\RunL3\IK.mot to set the initial configuration.

Using IPOPT optimizer algorithm.

Setting optimizer print level to 0.
Setting optimizer convergence tolerance to 1e-006.
Setting optimizer maximum iterations to 2000.

Setting cmc controller to not use verbose printing.
CMC.computeControls:  t = 1.5



================================================================
================================================================
Using CMC to track the specified kinematics
Integrating from 1.5 to 1.665
Start time = Mon Dec 14 11:57:59 2020
================================================================
CMC.computeControls:  t = 1.5
CMC.computeControls:  t = 1.501
CMC.computeControls:  t = 1.502
CMC.computeControls:  t = 1.503
CMC.computeControls:  t = 1.504
CMC.computeControls:  t = 1.505
CMC.computeControls:  t = 1.506
CMC.computeControls:  t = 1.507
CMC.computeControls:  t = 1.508
CMC.computeControls:  t = 1.509
CMC.computeControls:  t = 1.51
CMC.computeControls:  t = 1.511
CMC.computeControls:  t = 1.512
CMC.computeControls:  t = 1.513
CMC.computeControls:  t = 1.514
CMC.computeControls:  t = 1.515
CMC.computeControls:  t = 1.516
CMC.computeControls:  t = 1.517
CMC.computeControls:  t = 1.518
CMC.computeControls:  t = 1.519
CMC.computeControls:  t = 1.52
CMC.computeControls:  t = 1.521
CMC.computeControls:  t = 1.522
CMC.computeControls:  t = 1.523
CMC.computeControls:  t = 1.524
CMC.computeControls:  t = 1.525
CMC.computeControls:  t = 1.526
CMC.computeControls:  t = 1.527
CMC.computeControls:  t = 1.528
CMC.computeControls:  t = 1.529
CMC.computeControls:  t = 1.53
CMC.computeControls:  t = 1.531
CMC.computeControls:  t = 1.532
CMC.computeControls:  t = 1.533
CMC.computeControls:  t = 1.534
CMC.computeControls:  t = 1.535
CMC.computeControls:  t = 1.536
CMC.computeControls:  t = 1.537
CMC.computeControls:  t = 1.538
CMC.computeControls:  t = 1.539
CMC.computeControls:  t = 1.54
CMC.computeControls:  t = 1.541
CMC.computeControls:  t = 1.542
CMC.computeControls:  t = 1.543
CMC.computeControls:  t = 1.544
CMC.computeControls:  t = 1.545
CMC.computeControls:  t = 1.546
CMC.computeControls:  t = 1.547
CMC.computeControls:  t = 1.548
CMC.computeControls:  t = 1.549
CMC.computeControls:  t = 1.55
CMC.computeControls:  t = 1.551
CMC.computeControls:  t = 1.552
CMC.computeControls:  t = 1.553
CMC.computeControls:  t = 1.554
CMC.computeControls:  t = 1.555
CMC.computeControls:  t = 1.556
CMC.computeControls:  t = 1.557
CMC.computeControls:  t = 1.558
CMC.computeControls:  t = 1.559
CMC.computeControls:  t = 1.56
CMC.computeControls:  t = 1.561
CMC.computeControls:  t = 1.562
CMC.computeControls:  t = 1.563
CMC.computeControls:  t = 1.564
CMC.computeControls:  t = 1.565
CMC.computeControls:  t = 1.566
CMC.computeControls:  t = 1.567
CMC.computeControls:  t = 1.568
CMC.computeControls:  t = 1.569
CMC.computeControls:  t = 1.57
CMC.computeControls:  t = 1.571
CMC.computeControls:  t = 1.572
CMC.computeControls:  t = 1.573
CMC.computeControls:  t = 1.574
CMC.computeControls:  t = 1.575
CMC.computeControls:  t = 1.576
CMC.computeControls:  t = 1.577
CMC.computeControls:  t = 1.578
CMC.computeControls:  t = 1.579
CMC.computeControls:  t = 1.58
CMC.computeControls:  t = 1.581
CMC.computeControls:  t = 1.582
CMC.computeControls:  t = 1.583
CMC.computeControls:  t = 1.584
CMC.computeControls:  t = 1.585
CMC.computeControls:  t = 1.586
CMC.computeControls:  t = 1.587
CMC.computeControls:  t = 1.588
CMC.computeControls:  t = 1.589
CMC.computeControls:  t = 1.59
CMC.computeControls:  t = 1.591
CMC.computeControls:  t = 1.592
CMC.computeControls:  t = 1.593
CMC.computeControls:  t = 1.594
CMC.computeControls:  t = 1.595
CMC.computeControls:  t = 1.596
CMC.computeControls:  t = 1.597
CMC.computeControls:  t = 1.598
CMC.computeControls:  t = 1.599
CMC.computeControls:  t = 1.6
CMC.computeControls:  t = 1.601
CMC.computeControls:  t = 1.602
CMC.computeControls:  t = 1.603
CMC.computeControls:  t = 1.604
CMC.computeControls:  t = 1.605
CMC.computeControls:  t = 1.606
CMC.computeControls:  t = 1.607
CMC.computeControls:  t = 1.608
CMC.computeControls:  t = 1.609
CMC.computeControls:  t = 1.61
CMC.computeControls:  t = 1.611
CMC.computeControls:  t = 1.612
CMC.computeControls:  t = 1.613
CMC.computeControls:  t = 1.614
CMC.computeControls:  t = 1.615
CMC.computeControls:  t = 1.616
CMC.computeControls:  t = 1.617
CMC.computeControls:  t = 1.618
CMC.computeControls:  t = 1.619
CMC.computeControls:  t = 1.62
CMC.computeControls:  t = 1.621
CMC.computeControls:  t = 1.622
CMC.computeControls:  t = 1.623
CMC.computeControls:  t = 1.624
CMC.computeControls:  t = 1.625
CMC.computeControls:  t = 1.626
CMC.computeControls:  t = 1.627
CMC.computeControls:  t = 1.628
CMC.computeControls:  t = 1.629
CMC.computeControls:  t = 1.63
CMC.computeControls:  t = 1.631
CMC.computeControls:  t = 1.632
CMC.computeControls:  t = 1.633
CMC.computeControls:  t = 1.634
CMC.computeControls:  t = 1.635
CMC.computeControls:  t = 1.636
CMC.computeControls:  t = 1.637
CMC.computeControls:  t = 1.638
CMC.computeControls:  t = 1.639
CMC.computeControls:  t = 1.64
CMC.computeControls:  t = 1.641
CMC.computeControls:  t = 1.642
CMC.computeControls:  t = 1.643
CMC.computeControls:  t = 1.644
CMC.computeControls:  t = 1.645
CMC.computeControls:  t = 1.646
CMC.computeControls:  t = 1.647
CMC.computeControls:  t = 1.648
CMC.computeControls:  t = 1.649
CMC.computeControls:  t = 1.65
CMC.computeControls:  t = 1.651
CMC.computeControls:  t = 1.652
CMC.computeControls:  t = 1.653
CMC.computeControls:  t = 1.654
CMC.computeControls:  t = 1.655
CMC.computeControls:  t = 1.656
CMC.computeControls:  t = 1.657
CMC.computeControls:  t = 1.658
CMC.computeControls:  t = 1.659
CMC.computeControls:  t = 1.66
CMC.computeControls:  t = 1.661
CMC.computeControls:  t = 1.662
CMC.computeControls:  t = 1.663
CMC.computeControls:  t = 1.664
----------------------------------------------------------------
Finished tracking the specified kinematics
=================================================================
Start time   = Mon Dec 14 11:57:59 2020
Finish time  = Mon Dec 14 11:58:06 2020
Elapsed time = 7 seconds.
================================================================


Printing results of investigation RunL3 to E:\3-PhD\Data\MocapData\ElaboratedData\009\pre\residualReductionAnalysis\RunL3\RRA.

************************************************************
*      Summary of Mass Adjustments to Reduce Residuals     *
************************************************************
* Body adjusted: torso
* Mass Center (COM) adjustment: dx =0.1, dz =0.1
* New COM location: ~[-0.129454,0.314175,-0.1]
************************************************************
* Recommended mass adjustments:                             
*  Total mass change: -180.428
*  ground: orig mass = 0, new mass = 0
*  pelvis: orig mass = 12.2558, new mass = -15.9494
*  femur_r: orig mass = 9.67957, new mass = -12.5967
*  tibia_r: orig mass = 3.85824, new mass = -5.02101
*  patella_r: orig mass = 0.0897047, new mass = -0.116739
*  talus_r: orig mass = 0.104066, new mass = -0.135429
*  calcn_r: orig mass = 1.30082, new mass = -1.69286
*  toes_r: orig mass = 0.225406, new mass = -0.293338
*  femur_l: orig mass = 9.67957, new mass = -12.5967
*  tibia_l: orig mass = 3.85824, new mass = -5.02101
*  patella_l: orig mass = 0.0897047, new mass = -0.116739
*  talus_l: orig mass = 0.104066, new mass = -0.135429
*  calcn_l: orig mass = 1.30082, new mass = -1.69286
*  toes_l: orig mass = 0.225406, new mass = -0.293338
*  torso: orig mass = 27.9173, new mass = -36.3309
*  humerus_r: orig mass = 2.11514, new mass = -2.75258
*  ulna_r: orig mass = 0.632199, new mass = -0.822728
*  radius_r: orig mass = 0.632199, new mass = -0.822728
*  hand_r: orig mass = 0.476101, new mass = -0.619585
*  humerus_l: orig mass = 2.11514, new mass = -2.75258
*  ulna_l: orig mass = 0.632199, new mass = -0.822728
*  radius_l: orig mass = 0.632199, new mass = -0.822728
*  hand_l: orig mass = 0.476101, new mass = -0.619585
************************************************************
* Note: Edit the model to make recommended adjustments to  *
*       mass properties.                                   *
************************************************************
* Average residuals before adjusting torso COM:
*  FX=-443.371 FY=1769.39 FZ=172.103
*  MX=-259.684 MY=-217.078 MZ=666.723
************************************************************
* Average residuals after adjusting torso COM:
*  FX=-396.821 FY=1783.27 FZ=191.998
*  MX=-224.897 MY=-224.585 MZ=629.729
************************************************************

************************************************************
*                   Final Average Residuals                *
************************************************************
* After torso COM and Kinematics adjustments:
*  FX=7.50759 FY=280.372 FZ=-83.0728
*  MX=64.0739 MY=34.8969 MZ=-102.596
************************************************************


